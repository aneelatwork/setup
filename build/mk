#!/bin/bash

source $( type -p raks-setup-build-include )

declare rep_dir bld_dir
rep_dir="$( raks_setup_rep_dir "$( pwd )" )" || die "current directory is not in a git repository."
bld_dir="$( raks_setup_bld_dir "$rep_dir" )" || exit 1

if [[ $1 =~ t ]]; then mkdir -p "$bld_dir"; fi
(
cd "$bld_dir"
if [[ $1 =~ c ]]; then cmake "$rep_dir"; fi
if [[ $1 =~ b ]]; then make -j 4; fi
if [[ $1 =~ i ]]; then sudo make install; fi
)

